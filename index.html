<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Days!</title>
  <style>
    :root{
      --bg:#f8f7f4;          /* parchment-style background */
      --panel:#ffffff;
      --line:#ddd;
      --gold:#B3A369;
      --gold-soft:#d6cfa7;
      --text:#222;
      --muted:#666;
      --shadow: 0 6px 14px rgba(0,0,0,.08);
      --radius:18px;
    }
    html { background:#ece9df; } /* subtle, not pure white */
    body{
      margin:0;
      font-family: "Georgia", "Times New Roman", serif;
      color: var(--text);
      background: var(--bg);
      display:flex;
      justify-content:center;
      padding: clamp(16px, 3vw, 32px);
      min-height:100vh;
    }
    .wrap{ width:min(1000px, 100%); }
    .brand{
      position: relative;
      background: var(--panel);
      border:1px solid var(--line);
      border-radius: var(--radius);
      padding: 20px;
      box-shadow: var(--shadow);
    }
    .crests-bar{
      display:flex; justify-content:space-between; align-items:center;
    }
    .crest img{
      height:64px; width:auto;
      filter: drop-shadow(0 2px 4px rgba(0,0,0,.15));
    }
    .title-block{
      text-align:center;
      margin: 10px 0;
    }
    h1{
      margin: 0;
      font-variant: small-caps;
      letter-spacing:.05em;
      font-size: clamp(28px, 4vw, 40px);
      color: var(--text);
    }
    .sub{ margin:4px 0 10px; color: var(--muted); font-size:.95rem; }
    .gold-rule{
      height:6px; width:100%;
      background: linear-gradient(90deg, var(--gold), var(--gold-soft));
      border-radius: 999px;
      margin: 0 auto 10px;
    }
    #today{
      display:inline-block;
      margin: 8px 0 0;
      padding: 8px 14px;
      border:1px solid var(--line);
      border-radius: 999px;
      background: #fafafa;
    }
    .grid{
      margin-top: 22px;
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 16px;
    }
    .event{
      background: var(--panel);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 16px;
      border:1px solid var(--line);
      position:relative;
    }
    .event::before{
      content:"";
      position:absolute; top:0; left:0;
      height:6px; width:100%;
      background: linear-gradient(90deg, var(--gold), var(--gold-soft));
      border-top-left-radius: var(--radius);
      border-top-right-radius: var(--radius);
    }
    .event .label{
      font-variant: small-caps;
      letter-spacing:.06em;
      font-size:.8rem;
      color: var(--muted);
      margin-bottom: 6px;
    }
    .event .value{ font-size: 1.05rem; }
    .footer{
      margin-top: 22px; text-align:center; color: var(--muted); font-size:.9rem;
    }
  </style>
</head>
<body>
  <main class="wrap">
    <header class="brand">
      <div class="crests-bar">
        <div class="crest"><img src="westpoint-crest.png" alt="West Point Crest"></div>
        <div class="crest"><img src="d4-crest.png" alt="Company D4 Crest"></div>
      </div>
      <div class="title-block">
        <h1>The Days!</h1>
        <p class="sub">Duty â€¢ Honor â€¢ Country</p>
        <div class="gold-rule"></div>
        <p id="today"></p>
      </div>
    </header>

    <section class="grid">
      <div class="event" id="ring"><span class="label">Ring Weekend</span><div class="value"></div></div>
      <div class="event" id="football"><span class="label">Next Army Game</span><div class="value"></div></div>
      <div class="event" id="thanksgiving"><span class="label">Thanksgiving Break</span><div class="value"></div></div>
      <div class="event" id="navy"><span class="label">Armyâ€“Navy</span><div class="value"></div></div>
      <div class="event" id="christmas"><span class="label">Christmas Leave</span><div class="value"></div></div>
      <div class="event" id="grad"><span class="label">Graduation (â€™26)</span><div class="value"></div></div>
    </section>

    <p class="footer">ðŸ‘¾Contact jet.kennedy@westpoint.edu for any bugsðŸ‘¾</p>
  </main>

  <script>
    const ONE_DAY = 1000 * 60 * 60 * 24;

    // Parse 'YYYY-MM-DD' as a LOCAL date (no UTC shift)
    function localDate(iso) {
      const [y, m, d] = iso.split('-').map(Number);
      return new Date(y, m - 1, d);
    }
    function startOfDay(d = new Date()) {
      const x = new Date(d);
      x.setHours(0,0,0,0);
      return x;
    }
    // Inclusive calendar-day difference (doesn't drop early)
    function daysUntilInclusive(target) {
      const t = startOfDay(target);
      const today = startOfDay();
      return Math.max(0, Math.ceil((t - today) / ONE_DAY));
    }

    function getNextGame() {
      const schedule = [
        { date: '2025-08-29', opponent: 'Tarleton State' },
        { date: '2025-09-06', opponent: 'Kansas State' },
        { date: '2025-09-20', opponent: 'North Texas' },
        { date: '2025-09-25', opponent: 'East Carolina' },
        { date: '2025-10-04', opponent: 'UAB' },
        { date: '2025-10-11', opponent: 'Charlotte' },
        { date: '2025-10-18', opponent: 'Tulane' },
        { date: '2025-11-01', opponent: 'Air Force' },
        { date: '2025-11-08', opponent: 'Temple' },
        { date: '2025-11-22', opponent: 'Tulsa' },
        { date: '2025-11-28', opponent: 'UTSA' },
        { date: '2025-12-13', opponent: 'Navy' }
      ].map(g => ({ date: localDate(g.date), opponent: g.opponent }));

      for (let g of schedule) {
        const d = daysUntilInclusive(g.date);
        if (d > 0) return g; // upcoming
        if (startOfDay(g.date).getTime() === startOfDay().getTime()) return g; // today
      }

      // Fallback: next Saturday
      const today = new Date();
      const nextSat = startOfDay(new Date(today));
      const dow = today.getDay(); // 0=Sun..6=Sat
      const shift = (6 - dow + 7) % 7 || 7;
      nextSat.setDate(nextSat.getDate() + shift);
      return { date: nextSat, opponent: 'opponent for this week' };
    }

    function updateCounters() {
      const now = new Date();
      const todayEl = document.getElementById('today');
      if (todayEl) {
        todayEl.innerText = `Today is ${now.toLocaleDateString('en-US', { year:'numeric', month:'long', day:'numeric' })}!`;
      }

      const ring         = localDate('2025-08-22');
      const thanksgiving = localDate('2025-11-27');
      const armyNavy     = localDate('2025-12-13');
      const christmas    = localDate('2025-12-20');
      const graduation   = localDate('2026-05-23');
      const nextGame     = getNextGame();

      const setText = (id, text) => {
        const el = document.getElementById(id);
        if (!el) return;
        const v = el.querySelector('.value');
        if (v) v.innerText = text;
      };

      setText('ring',         `There are ${daysUntilInclusive(ring)} and a butt days until Ring Weekend!`);
      setText('football',     `There are ${daysUntilInclusive(nextGame.date)} and a butt days until Army beats ${nextGame.opponent} in football!`);
      setText('thanksgiving', `There are ${daysUntilInclusive(thanksgiving) - 1} and a butt days until Thanksgiving Break!`);
      setText('navy',         `There are ${daysUntilInclusive(armyNavy) - 1} and a butt days until Army beats the hell out of Navy in Football!`);
      setText('christmas',    `There are ${daysUntilInclusive(christmas) - 1} and a butt days until Christmas leave!`);
      setText('grad',         `There are ${daysUntilInclusive(graduation)} and a butt days until graduation and graduation leave for the class of 2026!`);
    }

    // Run once now, then flip at local midnight, then every 24h
    updateCounters();
    (function scheduleMidnightTick() {
      const now = new Date();
      const midnight = startOfDay(new Date(now));
      midnight.setDate(midnight.getDate() + 1);
      setTimeout(() => {
        updateCounters();
        setInterval(updateCounters, ONE_DAY);
      }, midnight - now);
    })();
  </script>
</body>
</html>
